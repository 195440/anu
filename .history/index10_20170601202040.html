<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <style>
        .aaa {
            width: 200px;
            height: 200px;
            background: red;
        }

        .bbb {
            width: 200px;
            height: 200px;
            background: lawngreen;
        }
    </style>

    <script type='text/javascript' src="./dist/React.js"></script>
    <!-- <script src="./test/react.js"></script>
    <script src="./test/react-dom.js"></script>
    <script src="./test/redux.js"></script>
    <script src="./test/react-redux.js"></script>
    <script src="./test/babel.js"></script>-->
    <script>
        window.onload = function () {
            const stack = []
            var deep = 0
          /*  var EMPTY_CHILDREN = []
            React = {
                createElement: function (type, configs) {
                    let children = EMPTY_CHILDREN
                    var props = {},
                        key = null,
                        ref = null,
                        pChildren = null, //位于props中的children
                        props = {},
                        vtype = 1,
                        typeType = typeof type,

                        isEmptyProps = true
                    if (configs) {
                        for (var i in configs) {
                            var val = configs[i]
                            if (i === 'key') {
                                key = val
                            } else if (i === 'ref') {
                                ref = val
                            } else if (i === 'children') {
                                pChildren = val
                            } else {
                                isEmptyProps = false
                                props[i] = val
                            }
                        }
                    }
                    if (typeType === 'function') {
                        vtype = type.prototype && type.prototype.render ?
                            2 :
                            4
                    }
                    for (var i = 2, n = arguments.length; i < n; i++) {
                        stack.push(arguments[i])
                    }

                    if (!stack.length && pChildren && pChildren) {
                        stack.push(pChildren)
                    }
                    //[xxx, [yyy ,[333],xxx]]
                    var deep = 0
                    var parent = []
                    if (stack.length) {
                        var lastSimple, child, simple, i
                        var parentIndex = 0
                        while (stack.length) {
                            if ((child = stack.pop()) && child.pop !== undefined) {
                                //如果是一个数组
                                parent.push(1)
                                console.log('=============', deep)
                                for (i = child.length; i--;) {
                                    child[i].deep = deep
                                    stack.push(child[i]);
                                }
                               // deep -= 1
                                   console.log('=============', deep)
                            } else {
                                if (typeof child === 'boolean')
                                    child = null;

                                if ((simple = typeof type !== 'function')) {
                                    if (child == null)
                                        child = ''
                                    else if (typeof child === 'number') child = child + ''


                                    else if (typeof child !== 'string')
                                        simple = false;
                                }
                                // try {
                                //   child.deep += deep
                                //  } catch (e) {}
                                if (simple && lastSimple) {
                                    children[children.length - 1].text += child
                                } else if (children === EMPTY_CHILDREN) {
                                    if (typeof child === 'string') {
                                        child = {
                                            text: child,
                                          
                                            type: '#text'
                                        }
                                    }
                                    children = [child];
                                } else {
                                    if (typeof child === 'string') {
                                        child = {
                                            text: child,
                                            type: '#text'
                                        }
                                    }
                                  
                                    console.log(deep, '!!!')
                                    children.push(child);
                                }

                                lastSimple = simple;
                            }
                         
                        }

                    }

                    props.children = children
                    return new VNode(type, props, key, vtype)

                }
            }

            function VNode(type, props, key, vtype) {
                this.type = type
                this.props = props
                this.vtype = vtype
                this.deep = 0
                if (key) {
                    this.key = key
                }

            }*/

            var a = React.createElement('div', {}, "xxx", "yyy", ["aaa", 'bbb', [React.createElement('span', {})],
                    React.createElement('p', {}), [React.createElement('b', {})]
                ],  "zzzz")

            console.log(a)

        /*    var a = {type: 'div', vtype: 1, deep: 0, props: {
                children: [
                    {type: '#text', deep: 0, text: 'xxxyyyaaabbb'}
                ]
            }}*/
        }
    </script>
</head>

<body>

    <div>这个默认会被清掉</div>
    <div id='example'></div>


</body>

</html>